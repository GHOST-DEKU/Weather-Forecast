<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Numeric Data Statistics</title>
    <style>
    table {
    border-collapse: collapse;width:100%;
    }th, td {
    border: 1px solid black;
    padding: 8px;
    text-align:center;
    color:yellow;}
    body{
    background-image: url('CLEAR_SKY.jpg');
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-size: cover;}
    input[type="text"],
    input[type="number"] {
        width: 130px;
    }
    </style>
</head>
<body>
<p>&emsp;<a style="text-align:center;FONT-SIZE:15px;" href="HOME.html">HOME</a></p>
<h1 style="text-align:center;background-color:yellow;color:green;">WEATHER FORCAST </h1>
    <form id="dataForm">
        <label for="month">Month:</label>
        <input type="text" id="month" name="month">

        <label for="temperature">Temperature(°C):</label>
        <input type="number" id="temperature" name="temperature">

        <label for="precipitation">Precipitation(mm):</label>
        <input type="number" id="precipitation" name="precipitation">

        <label for="humidity">Humidity(%):</label>
        <input type="number" id="humidity" name="humidity">

        <label for="windSpeed">Wind Speed(kmph):</label>
        <input type="number" id="windSpeed" name="windSpeed"><br><br>

        <button type="button" onclick="addRow()">Add to Table</button>
    </form>

    <br>

    <table id="dataTable",border="1">
        <thead>
            <tr>
                <th>MONTH</th>
                <th>TEMPERATURE(°C)</th>
                <th>PRECIPITATION(mm)</th>
                <th>HUMIDITY(%)</th>
                <th>WIND SPEED(kmph)</th>
                <th>REMOVE</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
    <br>
    <button type="button" onclick="calculateStatistics()">Calculate Statistics</button>
    <p id="statisticsResult"></p>

    <script>
        function addRow() {
            // Get input values
            var month = document.getElementById("month").value;
            var temperature = document.getElementById("temperature").value;
            var precipitation = document.getElementById("precipitation").value;
            var humidity = document.getElementById("humidity").value;
            var windSpeed = document.getElementById("windSpeed").value;

            // Create a new row
            var newRow = document.createElement("tr");

            // Create and append table cells
            var monthCell = document.createElement("td");
            monthCell.textContent = month;
            newRow.appendChild(monthCell);

            var temperatureCell = document.createElement("td");
            temperatureCell.textContent = temperature;
            newRow.appendChild(temperatureCell);

            var precipitationCell = document.createElement("td");
            precipitationCell.textContent = precipitation;
            newRow.appendChild(precipitationCell);

            var humidityCell = document.createElement("td");
            humidityCell.textContent = humidity;
            newRow.appendChild(humidityCell);

            var windSpeedCell = document.createElement("td");
            windSpeedCell.textContent = windSpeed;
            newRow.appendChild(windSpeedCell);

            var removeCell = document.createElement("td");
            var removeButton = document.createElement("button");
            removeButton.textContent = "Remove";
            removeButton.onclick = function() {
                removeRow(this);
            };
            removeCell.appendChild(removeButton);
            newRow.appendChild(removeCell);

            // Append the new row to the table
            document.getElementById("dataTable").getElementsByTagName("tbody")[0].appendChild(newRow);

            // Clear input fields
            document.getElementById("month").value = "";
            document.getElementById("temperature").value = "";
            document.getElementById("precipitation").value = "";
            document.getElementById("humidity").value = "";
            document.getElementById("windSpeed").value = "";
        }

        function removeRow(button) {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
        }

        function calculateStatistics() {
            var temperatures = [];
            var table = document.getElementById("dataTable");
            var rows = table.getElementsByTagName("tr");

            // Extract temperatures from table
            for (var i = 0; i < rows.length; i++) {
                var cell = rows[i].getElementsByTagName("td")[1]; // Temperature is in the second column
                if (cell) {
                    var temperature = parseFloat(cell.textContent);
                    if (!isNaN(temperature)) {
                        temperatures.push(temperature);
                    }
                }
            }

            // Calculate statistics
            var mean = calculateMean(temperatures);
            var median = calculateMedian(temperatures);
            var mode = calculateMode(temperatures);

            // Display statistics
            var result = "Mean Temperature: " + mean.toFixed(2) + "°C<br>";
            result += "Median Temperature: " + median.toFixed(2) + "°C<br>";
            result += "Mode Temperature: " + mode + "°C<br>";
            document.getElementById("statisticsResult").innerHTML = result;
        }

        function calculateMean(numbers) {
            var total = numbers.reduce((acc, cur) => acc + cur, 0);
            return total / numbers.length;
        }

        function calculateMedian(numbers) {
            numbers.sort((a, b) => a - b);
            var middle = Math.floor(numbers.length / 2);
            if (numbers.length % 2 === 0) {
                return (numbers[middle - 1] + numbers[middle]) / 2;
            } else {
                return numbers[middle];
            }
        }

        function calculateMode(numbers) {
            var modeMap = {};
            var maxCount = 0;
            var modes = [];
            numbers.forEach(number => {
                if (!modeMap[number]) modeMap[number] = 0;
                modeMap[number]++;
                if (modeMap[number] > maxCount) {
                    maxCount = modeMap[number];
                    modes = [number];
                } else if (modeMap[number] === maxCount) {
                    modes.push(number);
                }
            });
            return modes.length > 1 ? modes.join(", ") : modes[0];
        }
    </script>
</body>
</html>